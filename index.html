<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="poster.scss" />

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,600"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
      integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
      integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="assets/css/animate.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/media-queries.css" />
    <link rel="stylesheet" href="assets/css/carousel.css" />

    <!-- Favicon and touch icons -->
    <link
      rel="shortcut icon"
      href="assets/img/video-player-movie-svgrepo-com.svg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="assets/ico/t_netflix-n.jpg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="assets/ico/t_netflix-n.jpg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="assets/ico/t_netflix-n.jpg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      href="assets/ico/t_netflix-n.jpg"
    />

    <title>MOVIE - CAPPACITA DEV</title>
  </head>
  <body>
    <!-- Top menu -->
    <nav class="navbar navbar-dark fixed-top navbar-expand-md">
      <div class="container">
        <a class="navbar-brand" href="index.html">MOVIE - CAPPACITA DEV</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link scroll-link" href="#top-content">Início</a>
            </li>
            <li class="nav-item">
              <a class="nav-link scroll-link" href="#section-1"
                >Originais do Movie CAPPACITA DEV</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link scroll-link" href="#section-2">Comédia</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="top-content" class="section-1-container section-container">
      <div class="container">
        <div class="row">
          <div class="col section-1 section-description wow fadeIn">
            <h1>Originais do Movie - Cappacita dev</h1>

            <div
              id="carousel-movie"
              class="carousel slide"
              data-ride="carousel"
            >
              <div
                class="carousel-inner originais-movie row w-100 mx-auto"
                role="listbox"
              ></div>
              <a
                class="carousel-control-prev"
                href="#carousel-movie"
                role="button"
                data-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  aria-hidden="true"
                ></span>
                <span class="sr-only">Previous</span>
              </a>
              <a
                class="carousel-control-next"
                href="#carousel-movie"
                role="button"
                data-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  aria-hidden="true"
                ></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="section-2-container section-container">
      <div class="container">
        <div class="row">
          <div class="col section-2 section-description wow fadeIn">
            <h1>Comédia</h1>

            <div
              id="carousel-comedia"
              class="carousel slide"
              data-ride="carousel"
            >
              <div
                class="carousel-inner comedia row w-100 mx-auto"
                role="listbox"
              ></div>
              <a
                class="carousel-control-prev"
                href="#carousel-comedia"
                role="button"
                data-slide="prev"
              >
                <span
                  class="carousel-control-prev-icon"
                  aria-hidden="true"
                ></span>
                <span class="sr-only">Previous</span>
              </a>
              <a
                class="carousel-control-next"
                href="#carousel-comedia"
                role="button"
                data-slide="next"
              >
                <span
                  class="carousel-control-next-icon"
                  aria-hidden="true"
                ></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Section 4 -->
    <div
      class="
        section-4-container section-container section-container-image-bg
        mt-5
        p-5
      "
    >
      <div class="container">
        <div class="row">
          <div class="col section-4 section-description wow fadeInLeftBig">
            <h2>E se o seu site conversasse com os seus visitantes?</h2>
            <p>
              O Smarkio é um software de automação de marketing multicanal que
              revoluciona e automatiza a comunicação entre as marcas e seus
              consumidores.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer-container">
      <div class="container">
        <div class="row">
          <div class="col">
            <p>Projeto Final - CAPPACITA DEV <br />Cesar Resende</p>
          </div>
        </div>
      </div>
    </footer>
  </body>

  <script>
    async function getContent() {
      try {
        const response = await fetch("http://localhost:3008/originais-movie");
        const data = await response.json();
        show(data);
      } catch (error) {
        console.log(error);
      }
    }

    getContent();

    function show(filmes) {
      let output = "";
      for (let filme in filmes) {
        for (let i in filmes[filme]) {
          let nome = filmes[filme][i].original_title;
          let url = `http://image.tmdb.org/t/p/w300`;
          let img = filmes[filme][i].poster_path;
          // output += "<div class=item>";
          // output += `<div class="poster"><img src="${url}${img}"</div>`;
          // output += `<div  class="titulo"><p>${nome}</p></div>`;
          // output += "</div>";
          if ([i] == 0) {
            output += `<div class="carousel-item col-12 col-sm-6 col-md-4 col-lg-3 active">`;
          } else {
            output += `<div class="carousel-item col-12 col-sm-6 col-md-4 col-lg-3">`;
          }
          output += `<img
                src="${url}${img}"
                class="img-fluid mx-auto d-block"
                alt="${nome}" title="${nome}"
              />`;
          output += `</div>`;
          document.querySelector(".carousel-inner.originais-movie").innerHTML =
            output;
        }
      }
    }
  </script>

  <script>
    async function getContentFilmes() {
      try {
        const response = await fetch("http://localhost:3008/comedia");
        const data = await response.json();
        showFilmes(data);
      } catch (error) {
        console.log(error);
      }
    }

    getContentFilmes();

    function showFilmes(filmes) {
      console.log(filmes);

      for (let chave in filmes) {
        let output = "";
        for (let filme in filmes) {
          for (let i in filmes[filme]) {
            let nome = filmes[filme][i].original_name;
            let url = `http://image.tmdb.org/t/p/w300`;
            let img = filmes[filme][i].poster_path;
            // output += "<div class=item>";
            // output += `<div class="poster"><img src="${url}${img}"</div>`;
            // output += `<div  class="titulo"><p>${nome}</p></div>`;
            // output += "</div>";
            // document.querySelector(".carousel-inner.comedia").innerHTML =
            //   output;
            if ([i] == 0) {
              output += `<div class="carousel-item col-12 col-sm-6 col-md-4 col-lg-3 active">`;
            } else {
              output += `<div class="carousel-item col-12 col-sm-6 col-md-4 col-lg-3">`;
            }
            output += `<img
                src="${url}${img}"
                class="img-fluid mx-auto d-block"
                alt="${nome}" title="${nome}"
              />`;
            output += `</div>`;
            document.querySelector(".carousel-inner.comedia").innerHTML =
              output;
          }
        }
      }
    }
  </script>

  <!-- Javascript -->
  <script src="assets/js/jquery-3.3.1.min.js"></script>
  <script src="assets/js/jquery-migrate-3.0.0.min.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"
  ></script>
  <script src="assets/js/jquery.backstretch.min.js"></script>
  <script src="assets/js/wow.min.js"></script>
  <script src="assets/js/scripts.js"></script>
</html>
