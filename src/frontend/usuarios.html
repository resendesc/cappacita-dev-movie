<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" type="text/css" href="/assets/css/style.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/poster.scss" />

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,600"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css"
      integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
      integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="assets/css/animate.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/media-queries.css" />
    <link rel="stylesheet" href="assets/css/carousel.css" />

    <!-- Favicon and touch icons -->
    <link
      rel="shortcut icon"
      href="assets/img/video-player-movie-svgrepo-com.svg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="144x144"
      href="assets/ico/t_netflix-n.jpg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="114x114"
      href="assets/ico/t_netflix-n.jpg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      sizes="72x72"
      href="assets/ico/t_netflix-n.jpg"
    />
    <link
      rel="apple-touch-icon-precomposed"
      href="assets/ico/t_netflix-n.jpg"
    />

    <title>MOVIE - CAPPACITA DEV</title>
  </head>
  <body>
    <!-- Top menu -->
    <nav class="navbar navbar-dark fixed-top navbar-expand-md">
      <div class="container">
        <a class="navbar-brand" href="index.html">MOVIE - CAPPACITA DEV</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link scroll-link" href="#top-content">Início</a>
            </li>
            <li class="nav-item">
              <a class="nav-link scroll-link" href="#section-1"
                >Originais do Movie CAPPACITA DEV</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link scroll-link" href="#section-2">Comédia</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div id="top-content" class="section-1-container section-container">
      <div class="container">
        <div class="row">
          <div class="col section-1 section-description wow fadeIn">
            <h1 class="float-left pb-3 pt-3">Usuários</h1>

            <div class="usuarios"></div>

            <table class="table">
              <thead>
                <tr>
                  <th scope="col">id</th>
                  <th scope="col">username</th>
                  <th scope="col">Nome</th>
                  <th scope="col">E-mail</th>
                </tr>
              </thead>
              <tbody class="tbody-usuarios"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Section 4 -->
    <div
      class="
        section-4-container section-container section-container-image-bg
        mt-5
        p-5
      "
    >
      <div class="container">
        <div class="row">
          <div class="col section-4 section-description wow fadeInLeftBig">
            <h2>E se o seu site conversasse com os seus visitantes?</h2>
            <p>
              O Smarkio é um software de automação de marketing multicanal que
              revoluciona e automatiza a comunicação entre as marcas e seus
              consumidores.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer-container">
      <div class="container">
        <div class="row">
          <div class="col">
            <p>Projeto Final - CAPPACITA DEV <br />Cesar Resende</p>
          </div>
        </div>
      </div>
    </footer>
  </body>

  <script>
    async function getContent() {
      try {
        const response = await fetch("http://localhost:3008/usuarios");
        const data = await response.json();
        show(data);
        // console.log(data);
      } catch (error) {
        console.log(error);
      }
    }

    getContent();

    function show(usuarios) {
      console.log(usuarios);
      let output = "";
      for (let usuario in usuarios) {
        console.log(usuarios[usuario].username);

        let nome = usuarios[usuario].name;
        let username = usuarios[usuario].username;
        let email = usuarios[usuario].email;
        let id = usuarios[usuario].id;

        output += `<tr><th scope="row">${id}</th><td>${username}</td><td>${nome}</td><td>${email}</td></tr>`;
        document.querySelector(".tbody-usuarios").innerHTML = output;
      }
    }
  </script>

  <!-- Javascript -->
  <script src="assets/js/jquery-3.3.1.min.js"></script>
  <script src="assets/js/jquery-migrate-3.0.0.min.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
    integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
    integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
    crossorigin="anonymous"
  ></script>
  <script src="assets/js/jquery.backstretch.min.js"></script>
  <script src="assets/js/wow.min.js"></script>
  <script src="assets/js/scripts.js"></script>
</html>
